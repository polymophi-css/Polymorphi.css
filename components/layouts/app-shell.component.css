/* ═══════════════════════════════════════════════════════════════════════════
   POLYMORPHI COMPONENT: APP SHELL
   ═══════════════════════════════════════════════════════════════════════════
   Primitives: navbar, sidebar, arrangement, mixer-section
   ═══════════════════════════════════════════════════════════════════════════ */

/* ─────────────────────────────────────────────────────────────────────────
   ROOT LAYOUT
   ───────────────────────────────────────────────────────────────────────── */

.pm-app {
  display: flex;
  flex-direction: column;
  height: 100vh;
  background: var(--pm-gry-shade-008);
  color: var(--pm-wht-base-200);
  font-family: var(--pm-font-sans-000);
}

/* ─────────────────────────────────────────────────────────────────────────
   TOP BAR
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__topbar {
  display: flex;
  align-items: center;
  height: var(--pm-size-h-040);
  background: var(--pm-gry-shade-016);
  border-bottom: var(--pm-border-w-001) solid var(--pm-gry-mute-032);
  padding: 0 var(--pm-space-padding-008);
  gap: var(--pm-space-gap-008);
  z-index: var(--pm-layer-z-192);
}

.pm-app__logo {
  display: flex;
  align-items: center;
  gap: var(--pm-space-gap-004);
  font-size: var(--pm-type-size-016);
  font-weight: var(--pm-type-weight-192);
  color: var(--pm-wht-base-255);
}

.pm-app__logo-icon {
  width: var(--pm-size-w-024);
  height: var(--pm-size-h-024);
}

.pm-app__nav {
  display: flex;
  gap: var(--pm-space-gap-002);
}

.pm-app__nav-item {
  padding: var(--pm-space-padding-006) var(--pm-space-padding-012);
  border-radius: var(--pm-border-radius-004);
  font-size: var(--pm-type-size-013);
  color: var(--pm-gry-base-192);
  cursor: pointer;
  transition: all var(--pm-motion-dur-016);
}

.pm-app__nav-item:hover {
  background: var(--pm-gry-shade-024);
  color: var(--pm-wht-base-224);
}

.pm-app__nav-item--active {
  background: var(--pm-blu-shade-048);
  color: var(--pm-blu-vivid-192);
}

.pm-app__actions {
  display: flex;
  align-items: center;
  gap: var(--pm-space-gap-004);
  margin-left: auto;
}

/* ─────────────────────────────────────────────────────────────────────────
   MAIN CONTENT AREA
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__main {
  display: flex;
  flex: 1;
  overflow: hidden;
}

/* ─────────────────────────────────────────────────────────────────────────
   SIDEBAR
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__sidebar {
  display: flex;
  flex-direction: column;
  width: var(--pm-size-w-200);
  background: var(--pm-gry-shade-016);
  border-right: var(--pm-border-w-001) solid var(--pm-gry-mute-032);
  overflow-y: auto;
}

.pm-app__sidebar--collapsed {
  width: var(--pm-size-w-048);
}

.pm-app__sidebar-section {
  padding: var(--pm-space-padding-008);
  border-bottom: var(--pm-border-w-001) solid var(--pm-gry-mute-024);
}

.pm-app__sidebar-title {
  font-size: var(--pm-type-size-010);
  font-weight: var(--pm-type-weight-160);
  color: var(--pm-gry-base-128);
  text-transform: uppercase;
  letter-spacing: var(--pm-text-tracking-016);
  margin-bottom: var(--pm-space-margin-008);
}

.pm-app__sidebar-item {
  display: flex;
  align-items: center;
  gap: var(--pm-space-gap-008);
  padding: var(--pm-space-padding-006) var(--pm-space-padding-008);
  border-radius: var(--pm-border-radius-004);
  font-size: var(--pm-type-size-013);
  color: var(--pm-gry-base-192);
  cursor: pointer;
  transition: all var(--pm-motion-dur-016);
}

.pm-app__sidebar-item:hover {
  background: var(--pm-gry-shade-024);
  color: var(--pm-wht-base-224);
}

.pm-app__sidebar-item--active {
  background: var(--pm-blu-shade-048);
  color: var(--pm-blu-vivid-192);
}

.pm-app__sidebar-icon {
  width: var(--pm-size-w-016);
  height: var(--pm-size-h-016);
  opacity: var(--pm-opacity-192);
}

/* ─────────────────────────────────────────────────────────────────────────
   WORKSPACE
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__workspace {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
}

/* ─────────────────────────────────────────────────────────────────────────
   PANELS (DAW STYLE)
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__panels {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
}

.pm-app__panel-top {
  flex: 1;
  display: flex;
  overflow: hidden;
  min-height: var(--pm-size-h-128);
}

.pm-app__panel-bottom {
  height: var(--pm-size-h-200);
  border-top: var(--pm-border-w-001) solid var(--pm-gry-mute-032);
  overflow: hidden;
}

.pm-app__panel-bottom--collapsed {
  height: var(--pm-size-h-024);
}

.pm-app__panel-divider {
  height: var(--pm-size-h-004);
  background: var(--pm-gry-shade-016);
  cursor: ns-resize;
  transition: background var(--pm-motion-dur-016);
}

.pm-app__panel-divider:hover {
  background: var(--pm-blu-shade-064);
}

/* ─────────────────────────────────────────────────────────────────────────
   DETAIL PANEL (RIGHT)
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__detail {
  width: var(--pm-size-w-240);
  background: var(--pm-gry-shade-016);
  border-left: var(--pm-border-w-001) solid var(--pm-gry-mute-032);
  overflow-y: auto;
}

.pm-app__detail--collapsed {
  width: 0;
}

.pm-app__detail-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--pm-space-padding-012);
  border-bottom: var(--pm-border-w-001) solid var(--pm-gry-mute-032);
}

.pm-app__detail-title {
  font-size: var(--pm-type-size-014);
  font-weight: var(--pm-type-weight-160);
  color: var(--pm-wht-base-224);
}

.pm-app__detail-content {
  padding: var(--pm-space-padding-012);
}

/* ─────────────────────────────────────────────────────────────────────────
   STATUS BAR
   ───────────────────────────────────────────────────────────────────────── */

.pm-app__statusbar {
  display: flex;
  align-items: center;
  height: var(--pm-size-h-020);
  background: var(--pm-gry-shade-012);
  border-top: var(--pm-border-w-001) solid var(--pm-gry-mute-024);
  padding: 0 var(--pm-space-padding-008);
  gap: var(--pm-space-gap-016);
  font-size: var(--pm-type-size-010);
  color: var(--pm-gry-base-160);
}

.pm-app__status-item {
  display: flex;
  align-items: center;
  gap: var(--pm-space-gap-004);
}

.pm-app__status-indicator {
  width: var(--pm-size-w-006);
  height: var(--pm-size-h-006);
  border-radius: var(--pm-border-radius-255);
  background: var(--pm-grn-vivid-128);
}

.pm-app__status-indicator--warning {
  background: var(--pm-ylw-vivid-160);
}

.pm-app__status-indicator--error {
  background: var(--pm-red-vivid-160);
}

/* ─────────────────────────────────────────────────────────────────────────
   RESPONSIVE
   ───────────────────────────────────────────────────────────────────────── */

@media (max-width: 1024px) {
  .pm-app__sidebar {
    position: absolute;
    left: 0;
    top: var(--pm-size-h-040);
    bottom: 0;
    z-index: var(--pm-layer-z-160);
    transform: translateX(-100%);
    transition: transform var(--pm-motion-dur-032);
  }

  .pm-app__sidebar--open {
    transform: translateX(0);
  }

  .pm-app__detail {
    position: absolute;
    right: 0;
    top: var(--pm-size-h-040);
    bottom: 0;
    z-index: var(--pm-layer-z-160);
    transform: translateX(100%);
    transition: transform var(--pm-motion-dur-032);
  }

  .pm-app__detail--open {
    transform: translateX(0);
  }
}
